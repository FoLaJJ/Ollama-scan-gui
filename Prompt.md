# 第一轮

## 基于Python的Ollama扫描验证gui工具

### 要求
- 解耦合，各个功能代码分别在modules文件夹中，根据功能进行命名；
- 用最少的库函数和最简的代码完成任务；
- 可以支持gui和导出为exe，更方便；
- 样式美观简洁！
- 用户的个性化设置可以使用一个yaml文件保存，要适配exe的，因为后续导出为exe，希望可以任意地方运行，然后默认生成一个result，然后读取一个yaml！
- 具体的案例代码可以参考本文件夹下的`github项目案例代码.py`

### 功能
功能按照页面进行划分

#### 功能一

- 支持导入csv，excel，json，txt等内容进行解析，解析出域名/端口，或者ip/port。中英都行。并且有一定容错机制；
- 导入之后可以进行未授权访问的验证，其中用户可以设置并发线程数，并且可以设置扫描范围，比如说导入结果的10-20条这个范围内验证。并且可以点击开始扫描和停止按钮，不能将结果进行堆置，而应该当前扫描完什么目标就将结果显示出来；
- 点击某一条结果如果是成功验证出有漏洞的话，可以进行一些其他操作，诸如commands_help = [("list", "📃 列出所有可用的模型", "list"),("pull", "📥 拉取指定的模型", "pull <model_name>"),("show", "🔍 显示模型详细信息", "show <model_name>"),("chat", "💬 与模型进行对话", "chat <model_name>"),("ps", "⚡️ 显示运行中的模型", "ps"),("rm", "🗑️  删除指定模型","rm <model_name>"),("version", "📌 显示版本信息", "version"),("help", "❓ 显示帮助信息", "help"),("exit", "🚪 退出程序", "exit"),]
- 然后可以将结果进行导出为csv、json、excel模式，并且可以设置导出的条数和位置，默认在当前目录下。

#### 功能二
- 支持用户输入某一个网段或者ip段进行扫描11434端口，默认是这个端口，用户也可以进行修改，也可以扫描单端口；
- 也是进行未授权访问的验证，其中的效果同上；
- 点击某一条结果如果是成功验证出有漏洞的话，可以进行一些其他操作，诸如commands_help = [("list", "📃 列出所有可用的模型", "list"),("pull", "📥 拉取指定的模型", "pull <model_name>"),("show", "🔍 显示模型详细信息", "show <model_name>"),("chat", "💬 与模型进行对话", "chat <model_name>"),("ps", "⚡️ 显示运行中的模型", "ps"),("rm", "🗑️  删除指定模型","rm <model_name>"),("version", "📌 显示版本信息", "version"),("help", "❓ 显示帮助信息", "help"),("exit", "🚪 退出程序", "exit"),]

#### 功能三
- 就是本机的ollama快速验证！
- 一个滥竽充数的功能，就是快速验证自己127.0.0.1:11434本地ollama的功能是否正常，也可以正常进行简单对话和上述功能。



# 第二轮

## 版本更新

首先先给予夸奖！功能实现的基本完好，但是还有有一点需要更新：

### 杂项

- gui部分的theme似乎好像并没有起作用，因为gui页面里也根本没有修改theme的选项；
- gui.py的代码太长了，你可以再起一个文件夹，然后专门放功能页面的代码，gui.py里面再import进去；
- 状态方面不应该是有漏洞，而应该严谨一点！未授权访问！

### 功能一

- 文件导入扫描中，当选择解析文件的时候，应该要有一个预览界面！而不是解析文件完啥反应都没有！用户不知道你解析的效果；
- csv中解析十分有问题，csv应该是获取列的！找到IP地址那一列（也不一定叫IP地址，可能domain、域名、IP、ip啥的），然后获取IP地址，获取端口那一列，获取端口（假设端口没有的话，就默认11434）；然后有http://xxxxx啥的你就统一解析出ip格式，将http://或者https://给过滤掉！然后其他列你都可以直接不用去管的！
- 然后json格式解析就是去找{"results":[{"ip":"xxxx","port":"xxxx"},{}]}，然后解析出ip来；
- txt稍微比较乱一点，他是模拟了一个csv的形式，但是实际上python并读不出来，你直接提出ip地址即可，正则匹配不失为一个好选择。并作出说明，txt格式不能上传域名！
- 然后就是扫描出结果，现在是需要右击才有反应，不需要！应该是双击然后就能看到它的窗口，也不用弹出小窗来了，直接就是在功能栏，也就是文件导入扫描、IP段扫描、本地验证这三个功能的后面继续加上一个临时的，并且有一个×的按钮可以关掉。这个新的页面一个用来展示双击的目标的值的列出模型啥的，还有就是对话框！
- 你好像对功能进行偷工减料了，这个你似乎没有所有实现：commands_help = [("list", "📃 列出所有可用的模型", "list"),("pull", "📥 拉取指定的模型", "pull <model_name>"),("show", "🔍 显示模型详细信息", "show <model_name>"),("chat", "💬 与模型进行对话", "chat <model_name>"),("ps", "⚡️ 显示运行中的模型", "ps"),("rm", "🗑️  删除指定模型","rm <model_name>"),("version", "📌 显示版本信息", "version"),("help", "❓ 显示帮助信息", "help"),("exit", "🚪 退出程序", "exit"),]
- 列出的模型那里不是能够获取一些信息吗，这些信息也是可以直接析出的！因为格式都是一样的json这样的，你应该显示成这种？table.add_column("🤖 模型名称", style="cyan")table.add_column("💾 模型大小", style="green")table.add_column("📂 格式", style="yellow")table.add_column("🧩 参数量", style="blue")table.add_column("🏷️ 量化等级", style="red")table.add_column("⏳ 过期时间", style="magenta")

### 功能二&&功能三

- 关于验证出有漏洞的部分后续的实现功能也都缺了，跟功能一相关的部分实现是一致的！


检索语法：app="Ollama" && is_domain=false



# 第三轮

文件导入页面点击停止扫描的时候他还是无法停止！是不是因为多线程的原因？具体模型对话的页面那个执行命令的list之后，析出的表格距离不太对，就是大小、格式、参数量啥的不是对齐的。然后删除所有关于txt文件解析的代码，现在不需要了，现在只支持csv格式和json格式！！！！然后gui可以美观一点！